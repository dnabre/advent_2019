from enum import Enum
import sys




# test cases for part 1
# [initial_state, final_state, input_values, output_values]
TESTS_1 = [

		('1,9,10,3,2,3,11,0,99,30,40,50', '3500,9,10,70,2,3,11,0,99,30,40,50',[],[]),
		('1,0,0,0,99', '2,0,0,0,99',[], []),
		('2,3,0,3,99', '2,3,0,6,99',[], []),
		('2,4,4,5,99,0', '2,4,4,5,99,9801',[],[]),
		('1,1,1,4,99,5,6,0,99', '30,1,1,4,2,5,6,0,99',[],[]),

		(
			'1,12,2,3,1,1,2,3,1,3,4,3,1,5,0,3,2,13,1,19,1,10,19,23,1,6,23,27,1,5,27,31,1,10,'
			'31,35,2,10,35,39,1,39,5,43,2,43,6,47,2,9,47,51,1,51,5,55,1,5,55,59,2,10,59,63,'
			'1,5,63,67,1,67,10,71,2,6,71,75,2,6,75,79,1,5,79,83,2,6,83,87,2,13,87,91,1,91,'
			'6,95,2,13,95,99,1,99,5,103,2,103,10,107,1,9,107,111,1,111,6,115,1,115,2,119,'
			'1,119,10,0,99,2,14,0,0',
			'5482655,12,2,2,1,1,2,3,1,3,4,3,1,5,0,3,2,13,1,60,1,10,19,64,1,6,23,66,'
			'1,5,27,67,1,10,31,71,2,10,35,284,1,39,5,285,2,43,6,570,2,9,47,1710,1,51,'
			'5,1711,1,5,55,1712,2,10,59,6848,1,5,63,6849,1,67,10,6853,2,6,71,13706,2,'
			'6,75,27412,1,5,79,27413,2,6,83,54826,2,13,87,274130,1,91,6,274132,2,13,95,'
			'1370660,1,99,5,1370661,2,103,10,5482644,1,9,107,5482647,1,111,6,5482649,1,'
			'115,2,5482651,1,119,10,0,99,2,14,0,0', [], []),
			('3,0,4,0,99', '50,0,4,0,99', [50], [50] ),
		   ('1002,4,3,4,33', '1002,4,3,4,99', [], []),
		   ('1101,100,-1,4,0','1101,100,-1,4,99',[],[]),
	]

#problem_for_both_parts=''
#part1_expected_final_state=''
#PART_1 = [(problem_for_both_parts, part1_expected_final_state, [1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 14155342])]


PART_1 = [(	'3,225,1,225,6,6,1100,1,238,225,104,0,1102,57,23,224,101,-1311,224,224,4,224,1002,223,8,223,101,6,224,224,1,223,224,223,1102,57,67,225,102,67,150,224,1001,224,-2613,224,4,224,1002,223,8,223,101,5,224,224,1,224,223,223,2,179,213,224,1001,224,-469,224,4,224,102,8,223,223,101,7,224,224,1,223,224,223,1001,188,27,224,101,-119,224,224,4,224,1002,223,8,223,1001,224,7,224,1,223,224,223,1,184,218,224,1001,224,-155,224,4,224,1002,223,8,223,1001,224,7,224,1,224,223,223,1101,21,80,224,1001,224,-101,224,4,224,102,8,223,223,1001,224,1,224,1,224,223,223,1101,67,39,225,1101,89,68,225,101,69,35,224,1001,224,-126,224,4,224,1002,223,8,223,1001,224,1,224,1,224,223,223,1102,7,52,225,1102,18,90,225,1101,65,92,225,1002,153,78,224,101,-6942,224,224,4,224,102,8,223,223,101,6,224,224,1,223,224,223,1101,67,83,225,1102,31,65,225,4,223,99,0,0,0,677,0,0,0,0,0,0,0,0,0,0,0,1105,0,99999,1105,227,247,1105,1,99999,1005,227,99999,1005,0,256,1105,1,99999,1106,227,99999,1106,0,265,1105,1,99999,1006,0,99999,1006,227,274,1105,1,99999,1105,1,280,1105,1,99999,1,225,225,225,1101,294,0,0,105,1,0,1105,1,99999,1106,0,300,1105,1,99999,1,225,225,225,1101,314,0,0,106,0,0,1105,1,99999,1007,226,226,224,102,2,223,223,1005,224,329,1001,223,1,223,108,677,226,224,1002,223,2,223,1005,224,344,1001,223,1,223,1007,677,677,224,1002,223,2,223,1005,224,359,1001,223,1,223,1107,677,226,224,102,2,223,223,1006,224,374,1001,223,1,223,8,226,677,224,1002,223,2,223,1006,224,389,101,1,223,223,8,677,677,224,102,2,223,223,1006,224,404,1001,223,1,223,1008,226,226,224,102,2,223,223,1006,224,419,1001,223,1,223,107,677,226,224,102,2,223,223,1006,224,434,101,1,223,223,7,226,226,224,1002,223,2,223,1005,224,449,1001,223,1,223,1107,226,226,224,1002,223,2,223,1006,224,464,1001,223,1,223,1107,226,677,224,1002,223,2,223,1005,224,479,1001,223,1,223,8,677,226,224,1002,223,2,223,1006,224,494,1001,223,1,223,1108,226,677,224,1002,223,2,223,1006,224,509,101,1,223,223,1008,677,677,224,1002,223,2,223,1006,224,524,1001,223,1,223,1008,677,226,224,102,2,223,223,1006,224,539,1001,223,1,223,1108,677,677,224,102,2,223,223,1005,224,554,101,1,223,223,108,677,677,224,102,2,223,223,1006,224,569,101,1,223,223,1108,677,226,224,102,2,223,223,1005,224,584,1001,223,1,223,108,226,226,224,1002,223,2,223,1005,224,599,1001,223,1,223,1007,226,677,224,102,2,223,223,1005,224,614,1001,223,1,223,7,226,677,224,102,2,223,223,1006,224,629,1001,223,1,223,107,226,226,224,102,2,223,223,1005,224,644,101,1,223,223,7,677,226,224,102,2,223,223,1005,224,659,101,1,223,223,107,677,677,224,1002,223,2,223,1005,224,674,1001,223,1,223,4,223,99,22',
			'3,225,1,225,6,6,1101,1,238,225,104,0,1102,57,23,224,101,-1311,224,224,4,224,1002,223,8,223,101,6,224,224,1,223,224,223,1102,57,67,225,102,67,150,224,1001,224,-2613,224,4,224,1002,223,8,223,101,5,224,224,1,224,223,223,2,179,213,224,1001,224,-469,224,4,224,102,8,223,223,101,7,224,224,1,223,224,223,1001,188,27,224,101,-119,224,224,4,224,1002,223,8,223,1001,224,7,224,1,223,224,223,1,184,218,224,1001,224,-155,224,4,224,1002,223,8,223,1001,224,7,224,1,224,223,223,1101,21,80,224,1001,224,-101,224,4,224,102,8,223,223,1001,224,1,224,1,224,223,223,1101,67,39,225,1101,89,68,225,101,69,35,224,1001,224,-126,224,4,224,1002,223,8,223,1001,224,1,224,1,224,223,223,1102,7,52,225,1102,18,90,225,1101,65,92,225,1002,153,78,224,101,-6942,224,224,4,224,102,8,223,223,101,6,224,224,1,223,224,223,1101,67,83,225,1102,31,65,225,4,223,99,14155342,6,2015,677,0,0,0,0,0,0,0,0,0,0,0,1105,0,99999,1105,227,247,1105,1,99999,1005,227,99999,1005,0,256,1105,1,99999,1106,227,99999,1106,0,265,1105,1,99999,1006,0,99999,1006,227,274,1105,1,99999,1105,1,280,1105,1,99999,1,225,225,225,1101,294,0,0,105,1,0,1105,1,99999,1106,0,300,1105,1,99999,1,225,225,225,1101,314,0,0,106,0,0,1105,1,99999,1007,226,226,224,102,2,223,223,1005,224,329,1001,223,1,223,108,677,226,224,1002,223,2,223,1005,224,344,1001,223,1,223,1007,677,677,224,1002,223,2,223,1005,224,359,1001,223,1,223,1107,677,226,224,102,2,223,223,1006,224,374,1001,223,1,223,8,226,677,224,1002,223,2,223,1006,224,389,101,1,223,223,8,677,677,224,102,2,223,223,1006,224,404,1001,223,1,223,1008,226,226,224,102,2,223,223,1006,224,419,1001,223,1,223,107,677,226,224,102,2,223,223,1006,224,434,101,1,223,223,7,226,226,224,1002,223,2,223,1005,224,449,1001,223,1,223,1107,226,226,224,1002,223,2,223,1006,224,464,1001,223,1,223,1107,226,677,224,1002,223,2,223,1005,224,479,1001,223,1,223,8,677,226,224,1002,223,2,223,1006,224,494,1001,223,1,223,1108,226,677,224,1002,223,2,223,1006,224,509,101,1,223,223,1008,677,677,224,1002,223,2,223,1006,224,524,1001,223,1,223,1008,677,226,224,102,2,223,223,1006,224,539,1001,223,1,223,1108,677,677,224,102,2,223,223,1005,224,554,101,1,223,223,108,677,677,224,102,2,223,223,1006,224,569,101,1,223,223,1108,677,226,224,102,2,223,223,1005,224,584,1001,223,1,223,108,226,226,224,1002,223,2,223,1005,224,599,1001,223,1,223,1007,226,677,224,102,2,223,223,1005,224,614,1001,223,1,223,7,226,677,224,102,2,223,223,1006,224,629,1001,223,1,223,107,226,226,224,102,2,223,223,1005,224,644,101,1,223,223,7,677,226,224,102,2,223,223,1005,224,659,101,1,223,223,107,677,677,224,1002,223,2,223,1005,224,674,1001,223,1,223,4,223,99,22',
				[1],[0, 0, 0, 0, 0, 0, 0, 0, 0, 14155342])]


TESTS_2 = [
('3,9,8,9,10,9,4,9,99,-1,8', '3,9,8,9,10,9,4,9,99,0,8', [4], [0]),
('3,9,8,9,10,9,4,9,99,-1,8', '3,9,8,9,10,9,4,9,99,1,8', [8], [1]),
('3,9,7,9,10,9,4,9,99,-1,8', '3,9,7,9,10,9,4,9,99,1,8', [3],[1]),
('3,9,7,9,10,9,4,9,99,-1,8', '3,9,7,9,10,9,4,9,99,0,8', [8],[0]),
('3,3,1108,-1,8,3,4,3,99', '3,3,1108,0,8,3,4,3,99', [3],[0]),
('3,3,1108,-1,8,3,4,3,99', '3,3,1108,1,8,3,4,3,99', [8],[1]),
('3,3,1107,-1,8,3,4,3,99', '3,3,1107,1,8,3,4,3,99', [4],[1]),
('3,3,1107,-1,8,3,4,3,99', '3,3,1107,0,8,3,4,3,99', [10],[0]),
('3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9','3,12,6,12,15,1,13,14,13,4,13,99,0,0,1,9',[0],[0]),
('3,12,6,12,15,1,13,14,13,4,13,99,-1,0,1,9','3,12,6,12,15,1,13,14,13,4,13,99,4,1,1,9',[4],[1]),
('3,3,1105,-1,9,1101,0,0,12,4,12,99,1','3,3,1105,0,9,1101,0,0,12,4,12,99,0',[0],[0]),
('3,3,1105,-1,9,1101,0,0,12,4,12,99,1','3,3,1105,7,9,1101,0,0,12,4,12,99,1',[7],[1]),
('3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',
	'3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,3,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',[3],[999]),
('3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,0,0,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',
	'3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,1000,8,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',[8],[1000]),
('3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,1000,8,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',
	'3,21,1008,21,8,20,1005,20,22,107,8,21,20,1006,20,31,1106,0,36,98,1001,17,1002,21,125,20,4,20,1105,1,46,104,999,1105,1,46,1101,1000,1,20,4,20,1105,1,46,98,99',[17],[1001]),
	]


PART_2 = [
	('3,225,1,225,6,6,1100,1,238,225,104,0,1102,57,23,224,101,-1311,224,224,4,224,1002,223,8,223,101,6,224,224,1,223,224,223,1102,57,67,225,102,67,150,224,1001,224,-2613,224,4,224,1002,223,8,223,101,5,224,224,1,224,223,223,2,179,213,224,1001,224,-469,224,4,224,102,8,223,223,101,7,224,224,1,223,224,223,1001,188,27,224,101,-119,224,224,4,224,1002,223,8,223,1001,224,7,224,1,223,224,223,1,184,218,224,1001,224,-155,224,4,224,1002,223,8,223,1001,224,7,224,1,224,223,223,1101,21,80,224,1001,224,-101,224,4,224,102,8,223,223,1001,224,1,224,1,224,223,223,1101,67,39,225,1101,89,68,225,101,69,35,224,1001,224,-126,224,4,224,1002,223,8,223,1001,224,1,224,1,224,223,223,1102,7,52,225,1102,18,90,225,1101,65,92,225,1002,153,78,224,101,-6942,224,224,4,224,102,8,223,223,101,6,224,224,1,223,224,223,1101,67,83,225,1102,31,65,225,4,223,99,0,0,0,677,0,0,0,0,0,0,0,0,0,0,0,1105,0,99999,1105,227,247,1105,1,99999,1005,227,99999,1005,0,256,1105,1,99999,1106,227,99999,1106,0,265,1105,1,99999,1006,0,99999,1006,227,274,1105,1,99999,1105,1,280,1105,1,99999,1,225,225,225,1101,294,0,0,105,1,0,1105,1,99999,1106,0,300,1105,1,99999,1,225,225,225,1101,314,0,0,106,0,0,1105,1,99999,1007,226,226,224,102,2,223,223,1005,224,329,1001,223,1,223,108,677,226,224,1002,223,2,223,1005,224,344,1001,223,1,223,1007,677,677,224,1002,223,2,223,1005,224,359,1001,223,1,223,1107,677,226,224,102,2,223,223,1006,224,374,1001,223,1,223,8,226,677,224,1002,223,2,223,1006,224,389,101,1,223,223,8,677,677,224,102,2,223,223,1006,224,404,1001,223,1,223,1008,226,226,224,102,2,223,223,1006,224,419,1001,223,1,223,107,677,226,224,102,2,223,223,1006,224,434,101,1,223,223,7,226,226,224,1002,223,2,223,1005,224,449,1001,223,1,223,1107,226,226,224,1002,223,2,223,1006,224,464,1001,223,1,223,1107,226,677,224,1002,223,2,223,1005,224,479,1001,223,1,223,8,677,226,224,1002,223,2,223,1006,224,494,1001,223,1,223,1108,226,677,224,1002,223,2,223,1006,224,509,101,1,223,223,1008,677,677,224,1002,223,2,223,1006,224,524,1001,223,1,223,1008,677,226,224,102,2,223,223,1006,224,539,1001,223,1,223,1108,677,677,224,102,2,223,223,1005,224,554,101,1,223,223,108,677,677,224,102,2,223,223,1006,224,569,101,1,223,223,1108,677,226,224,102,2,223,223,1005,224,584,1001,223,1,223,108,226,226,224,1002,223,2,223,1005,224,599,1001,223,1,223,1007,226,677,224,102,2,223,223,1005,224,614,1001,223,1,223,7,226,677,224,102,2,223,223,1006,224,629,1001,223,1,223,107,226,226,224,102,2,223,223,1005,224,644,101,1,223,223,7,677,226,224,102,2,223,223,1005,224,659,101,1,223,223,107,677,677,224,1002,223,2,223,1005,224,674,1001,223,1,223,4,223,99,226',
'314,225,1,225,6,6,1105,1,238,225,104,0,1102,57,23,224,101,-1311,224,224,4,224,1002,223,8,223,101,6,224,224,1,223,224,223,1102,57,67,225,102,67,150,224,1001,224,-2613,224,4,224,1002,223,8,223,101,5,224,224,1,224,223,223,2,179,213,224,1001,224,-469,224,4,224,102,8,223,223,101,7,224,224,1,223,224,223,1001,188,27,224,101,-119,224,224,4,224,1002,223,8,223,1001,224,7,224,1,223,224,223,1,184,218,224,1001,224,-155,224,4,224,1002,223,8,223,1001,224,7,224,1,224,223,223,1101,21,80,224,1001,224,-101,224,4,224,102,8,223,223,1001,224,1,224,1,224,223,223,1101,67,39,225,1101,89,68,225,101,69,35,224,1001,224,-126,224,4,224,1002,223,8,223,1001,224,1,224,1,224,223,223,1102,7,52,225,1102,18,90,225,1101,65,92,225,1002,153,78,224,101,-6942,224,224,4,224,102,8,223,223,101,6,224,224,1,223,224,223,1101,67,83,225,1102,31,65,225,4,223,99,8684145,0,20,677,0,0,0,0,0,0,0,0,0,0,0,1105,0,99999,1105,227,247,1105,1,99999,1005,227,99999,1005,0,256,1105,1,99999,1106,227,99999,1106,0,265,1105,1,99999,1006,0,99999,1006,227,274,1105,1,99999,1105,1,280,1105,1,99999,1,225,225,225,1101,294,0,0,105,1,0,1105,1,99999,1106,0,300,1105,1,99999,1,225,225,225,1101,314,0,0,106,0,0,1105,1,99999,1007,226,226,224,102,2,223,223,1005,224,329,1001,223,1,223,108,677,226,224,1002,223,2,223,1005,224,344,1001,223,1,223,1007,677,677,224,1002,223,2,223,1005,224,359,1001,223,1,223,1107,677,226,224,102,2,223,223,1006,224,374,1001,223,1,223,8,226,677,224,1002,223,2,223,1006,224,389,101,1,223,223,8,677,677,224,102,2,223,223,1006,224,404,1001,223,1,223,1008,226,226,224,102,2,223,223,1006,224,419,1001,223,1,223,107,677,226,224,102,2,223,223,1006,224,434,101,1,223,223,7,226,226,224,1002,223,2,223,1005,224,449,1001,223,1,223,1107,226,226,224,1002,223,2,223,1006,224,464,1001,223,1,223,1107,226,677,224,1002,223,2,223,1005,224,479,1001,223,1,223,8,677,226,224,1002,223,2,223,1006,224,494,1001,223,1,223,1108,226,677,224,1002,223,2,223,1006,224,509,101,1,223,223,1008,677,677,224,1002,223,2,223,1006,224,524,1001,223,1,223,1008,677,226,224,102,2,223,223,1006,224,539,1001,223,1,223,1108,677,677,224,102,2,223,223,1005,224,554,101,1,223,223,108,677,677,224,102,2,223,223,1006,224,569,101,1,223,223,1108,677,226,224,102,2,223,223,1005,224,584,1001,223,1,223,108,226,226,224,1002,223,2,223,1005,224,599,1001,223,1,223,1007,226,677,224,102,2,223,223,1005,224,614,1001,223,1,223,7,226,677,224,102,2,223,223,1006,224,629,1001,223,1,223,107,226,226,224,102,2,223,223,1005,224,644,101,1,223,223,7,677,226,224,102,2,223,223,1005,224,659,101,1,223,223,107,677,677,224,1002,223,2,223,1005,224,674,1001,223,1,223,4,223,99,226',
[5],[8684145])
]


#part2_expected_final_state=''
#PART_2 = [(problem_for_both_parts, part2_expected_final_state, [5], [8684145])]


def lookup_value(program,pc,p_mode, p_number):
	p_m = p_mode[p_number - 1]
	if(p_m ==ParamMode.POSITION_MODE):
		loc = program[pc+p_number]
		value = program[loc]
	elif (p_m == ParamMode.IMMEDIATE_MODE):
		value = program[pc+p_number]
	else:
		raise Exception(f"invalid ParamMode:{p_mode}")
	return value



def add(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	loc = program[pc + 3] # location written to will never be in immediate mode
	result = num_1 + num_2
	program[loc] = result
	return ([],pc)



def multiple(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	loc = program[pc + 3] # location written to will never be in immediate mode
	result = num_1 * num_2
	program[loc] = result
	return ([], pc)

def input(program,pc,p_modes,inputs):
	if (len(inputs) == 0 ):
		print(f'\ninput missing at pc={pc}')
		sys.exit(-1)
	loc = program[pc+1] # location written to will never be in immediate mode
	in_value = inputs.pop(0)
	program[loc] = in_value
	return ([], pc)

def output(program,pc,p_modes,inputs):
	output_value = lookup_value(program,pc,p_modes,1)
	out_value = output_value
	return ([out_value],pc)


def jump_if_true(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	if (num_1 != 0): pc = num_2
	return([],pc)

def jump_if_false(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	if (num_1 == 0): pc = num_2
	return([],pc)

def less_than(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	loc = program[pc + 3]  # location written to will never be in immediate mode
	if(num_1 < num_2):
		program[loc] = 1
	else:
		program[loc] = 0
	return([],pc)

def equals(program,pc,p_modes,inputs):
	num_1 = lookup_value(program, pc, p_modes, 1)
	num_2 = lookup_value(program, pc, p_modes, 2)
	loc = program[pc + 3]  # location written to will never be in immediate mode
	if (num_1 == num_2):
		program[loc] = 1
	else:
		program[loc] = 0
	return ([], pc)


def halt(program,pc,p_modes,inputs):
	# This code should never be run
	print('halt instruction executed instead of program being halted')
	assert(False)
	# no return

class ParamMode(Enum):
		POSITION_MODE  = 0
		IMMEDIATE_MODE = 1
		def __str__(self):
			if(self == ParamMode.POSITION_MODE): return 'p'
			if(self == ParamMode.IMMEDIATE_MODE): return 'i'
			return 'ERROR: INVALID ParamMode'


def run_program(program, inputs):
	""" Runs program returns final state
	:param program: list of integers representing the program/initial state
	:param input: list of integers which will provided to the program when it requests input
	:return: state of memory when program halts
	"""
	pc = 0
	outputs = []
	while True :
		op_code = {
			1: add,
			2: multiple,
			3: input,
			4: output,
			5: jump_if_true,
			6: jump_if_false,
			7: less_than,
			8: equals,

			99: halt,
		}

		pc_shift = {
			add: 4,
			multiple: 4,
			input: 2,
			output: 2,
			jump_if_true: 3,
			jump_if_false: 3,
			less_than: 4,
			equals: 4,
			halt: 0
		}

		param_modes = {
			0: 'p',
			1: 'i'
		}


		instruction = program[pc]
		opcode_number = instruction % 100

		p1_mode = ParamMode(instruction // 100 %10)
		p2_mode = ParamMode(instruction // 1000 %10)
		p3_mode = ParamMode(instruction // 10000 %10)
		p_modes = (p1_mode,p2_mode,p3_mode)

		operator = op_code.get(opcode_number)
		if (operator == halt): return (program,outputs)

		(op_output,new_pc) = operator(program,pc,p_modes,inputs)
		if(pc == new_pc):
			pc_increment = pc_shift.get(operator)
			pc += pc_increment
		else:
			pc = new_pc

		outputs += op_output
	#no return



def string_to_program(s):
	array_strings = s.split(',')
	result = []
	for string_int in array_strings:
		num = int(string_int)
		result.append(num)
	return result



def run_tests(test_set):
	for t in test_set:
		#print(f'\n{t}')
		(test_prog, test_prog_expected, test_inputs, test_outputs) = t
		test_prog = string_to_program(test_prog)
		#print('', end='\t')
		#print(test_prog, end=' ')

		test_prog_expected = string_to_program(test_prog_expected)
		(test_result, program_outputs) = run_program(test_prog, test_inputs)
		#print(f' -> {test_result}')
		#print(f'output={program_outputs}')


		failed = False
		if (test_result != test_prog_expected):
			failed = True
			print(f'error:  expected program state: {test_prog_expected}')
		if (test_outputs != program_outputs):
			failed = True
			print(f'error: expected program output: {test_outputs}')

		if failed:
			sys.exit("test failed")
		else:
			print(f'\t: correct \t {program_outputs}')



def main():




	print("Part 1 Tests")
	run_tests(TESTS_1)
	print("Part 2 Tests")
	run_tests(TESTS_2)
	print("Part 1 Problem")
	run_tests(PART_1)
	print("Part 2 Problem")
	run_tests(PART_2)


if __name__ == "__main__":
	main()
